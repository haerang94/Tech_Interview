# Operating System

============================================================================================
### 운영체제 관련 면접 질문(기본이론 ~ 심화)을 준비하는 페이지입니다. (참여자 : 신정호, 최해랑, 현선미)
============================================================================================
### CHAPTER1 운영체제 개론 

#### - 컴퓨터 시스템은 어떻게 구성되어 있나요?
 컴퓨터 시스템은 Hardware, OS, Application program, user 이렇게 크게 4가지로 구성되어 있습니다.
 사용자가 Application program을 실행하면 
 OS는 Application program의 task가 수헹될 수 있도록 CPU와 같은 자원을 할당하는 역할을 수행합니다.


#### - 운영체제란 무엇이며 어떤 역할을 하나요?
 운영체제는 컴퓨터 Hardware와 user사이에서 중간다리역할을 하는 프로그램으로 
 자원을 할당을 통해 hardware에서 application이 실행될수 있는환경을 제공합니다.


#### - 컴퓨터가 부팅되는 방식을 전원(POWER)를 눌렀을 때부터 설명해보세요
 power 버튼을 누르면 ROM안에 내장된 bootstrap이 실행되어 OS가 Memory에 올라가게 됩니다.
 
#### - 커널에 대해 설명해보세요
 커널은 운영 체제의 핵심부분으로 보안, 자원관리, 하드웨어 추상화를 통해 
 응용소프트웨어와 하드웨어를 연결하는 역할을합니다.
 
#### - Interrupt와 Interrupt Vector에 대해 설명하고 어떤 방식으로 Interrupt Handling이 일어나는지 설명해보세요
 1) 입/출력장치 등의  처리가 필요한경우 CPU에게 처리중인 process를 잠시 중단하고 우선 처리해달라고 요청하는 것을 Interrupt라고 합니다.
 2) Interrupt vector는 Interrupt가 발생했을 때, Interrupt를 처리할 수 있는 서비스 루틴들의 주소를 가지고 있는 공간입니다.
 3) Interrupt가 발생하면 CPU는 Interrupt vector를 읽어 ISR의 주소값을 얻어 ISR로 이동합니다. 그리고 기존의 실행중이던 process의 레지스터, PC값을 저장한후 ISR의 코드를 실행해 서비스 루틴을 진행합니다. Interrupt 처리가 끝나면 저장해논 레지스터와 PC값을 복원하여 이전 실행위치에서 프로그램을 정상적으로 처리할 수 있습니다. 
 
#### - bit, byte에 대해 설명해보세요
- 컴퓨터의 이진수 0/1을 나타내는 비트하나가 1bit이다.
- 10bit라고 하면 2진수의 숫자 자릿수가 10개가 있다.
- 1byte는 컴퓨터 용량의 최소단위이고 1byte=1bit이다.

#### - 캐싱이란 무엇이며 캐시 메모리에 대해 소프트웨어적, 하드웨어적 양쪽 모두 설명해보세요
- 캐싱: 캐시 메모리를 이용해 컴퓨터 속도를 높이는 기술
- CPU와 메인 메모리 사이의 속도 차이를 해결하기 위해 중간에 둬서 자주 사용하는 데이터를 담는다.
- 캐시에 자주 사용될 것 같은 데이터를 담고 cpu나 디스크가 캐시의 데이터를 참조할 수 있도록 한다.
- 캐시는 지역성의 원리를 이용한다. 지역성은 시간지역성과 공간지역성으로 나뉜다. 한 번 접근한 데이터는 다시 접근할 확률이 높고 접근했던 데이터들의 근처 데이터도 접근할 확률이 높은 특징이다.
- 캐시는 CPU칩 안에 들어가는 작고 빠른 메모리이다. 용량이 작으며 비싸다.

#### - 멀티프로세서와 멀티코어에 대해 설명해보세요
- 멀티 프로세서: cpu가 여러 대가 있는 시스템이다. 그 중 smp(symmetric multiprocessing)은 여러 cpu가 하나의 메인 메모리를 공유하는 시스템이다.
- 멀티 코어: 하나의 cpu에 여러 코어가 있는 것이다. 각 코어는 명령어를 수행하기 위한 ALU, CU, 레지스터를 가진다.
- 차이점: 멀티 프로세서는 명령어를 병렬로 수행한다면 멀티코어는 명령어의 마이크로 연산을 병렬로 수행한다. 기본 명령어가 복잡한 CPU가 등장하면서 반복문 등의 연산 등으로 기본 단위가 무거워져 SMP(simultaneous multithreading) 이라고 해서 코어를 또 2개로 나눠서 스레드 개념처럼 사용한다. 
인텔 CPU에서는 이를 하이퍼 스레딩이라고 부른다.
- 두 방식은 동시에 적용될 수 있다.

#### - User mode와 Kernel mode에 대해 설명해보세요
- 유저 모드: 사용자 어플리케이션 프로그램이 수행되는 모드. 프로그램이 수행되다가 인터럽트가 걸려 운영체제가 호출되어 수행되는 모드는 커널모드이다.
- 커널 모드: 운영체제가 제공하는 기능을 실제로 호출해서 사용하는 모드. 사용자에서 시스템 콜을 호출하면 커널 모드로 전환되여 관련 함수를 호출하여 일을 수행한다.

#### - Interrupt가 일어나서 끝나는 과정에 대해 설명해보세요

- 프로세스가 실행 중 시스템 콜을 통해서 인터럽트를 발생시킨다.
- CPU는 현재 진행 중인 기계어 코드를 완료한다.
- 현재까지 수행 중이던 상태를 해당 프로세스의 PCB블록에 저장한다.
- PC에 다음에 실행할 명령의 주소를 저장한다.
- 인터럽트 벡터를 읽허 호출된 인터럽트의 서비스 루틴의 메모리주소를 찾는다. (ISR)
- ISR(인터럽트 서비스 루틴)으로 점프하여 루틴을 실행한다.
- 해당 코드를 실행한다.
- 인터럽트 처리 완료 후 레지스터를 복원한다,
- ISR 끝의 IRET 명령어에 의해 인터럽트가 해제된다.
- IRET명령어가 실행되면 PC값을 복원하여 이전 실행 위치로 복원한다.

=======================================================================================
### CHAPTER2 운영체제 구조 

#### - 운영체제가 제공하는 서비스에 대해서 설명해보세요.
운영헤제는 HW에서 프로그램이 실행될 수 있도록 프로세스, 메모리, 파일, 입출력 장치등 컴퓨터 자원을 관리하고 
사용자 Interface를 제공해 사용자가 시스템과 사용자 사이의 중간다리 역할을 해줍니다.

#### - 시스템 콜이 무엇인지 또 종류는 무엇인지에 대해서 설명해보세요 
시스템 콜: 커널 영역의 기능을 사용자 모드가 사용가능하도록 제공하는 운영체제 서비스이다.
프로세스 제어(생성, 실행 ,적재, 중지), 파일 조작(읽기, 쓰기, 삭제), 장치 관리, 통신, 정보 유지(시간 설정) 등의 기능을 제공하는 시스템 콜이 있다.
#### - 동기식 입출력과 비동기식 입출력에 대해서 설명해보세요.
- block vs non-block: 제어권 리턴 여부. 호출한 프로그램이 바로 제어권을 돌려받는 것이 non-block, 호출된 프로그램이 제어권을 돌려줄 때까지 기다리는 것이 block 입출력이다.
- synchronous vs asyncronous: 작업 완료 결과를 신경쓰는가에 대한 여부에 따라 분리된다. a함수가 b를 호출한 후 b의 결과 유무를 검사하면서 결과물을 신경쓰면 synchronous, 관련 없는 작업이나 b의 작업 결과를 신경쓰지 않는다면 asynchronous이다.

#### - 마이크로 커널에 대해서 설명해보세요.
- 핵심기능만 유지하여 최소한의 기능만 제공하는 커널이다. 나머지 구현은 라이브러리 등을 사용해서 유저 레벨에서 작동하는 모듈을 끼워넣어서 운영체제를 확장할 수 있다.

=======================================================================================
### CHAPTER4 Thread 

#### - 프로세스와 스레드의 차이점에 대해 설명해보세요. (실제로 기술면접에 나왔던 질문입니다!)
- 프로세스란 메모리에 올라와 실행되고 있는 프로그램의 독립적인 개체를 의미하고 스레드란 프로레스 내에서 실행되는 여러 흐름의 단위를 의미합니다.
- 기본적으로 모든 프로세스는 최소 1개의 메인 스레드를 가지고 있다.
- 프로세는 각각 독립된 메모리 영역(code,data,stack,heap)을 할당받지만 스레드는 프로레스 내에서 stack만 따로 할당받고 code, data, heap 영역은 공유한다.
- 한 프로세스가 다른 프로세스의 자원에 접근하려면 프로세스 간의 통신(IPC)을 사용해야 한다.

#### - 멀티스레딩의 장단점에 대해 설명해보세요.
- 멀티 스레딩이란 하나의 프로세스를 여러 개의 스레드로 구성하고 각 스레드로 하여금 하나의 작업을 처리하도록 하는 것이다.
- 장점
- 프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어들기 때문에 자원을 효율적으로 관린할 수 있다.
- 스레드 간 데이터를 주고 받는 것이 간단해지고 시스템 자원 소모가 줄어들게 된다.
- 스레드 사이의 context switching이 빠르다
- 단점
- 디버깅이 어렵다
- 자원 공유로 인한 동기화 문제가 발생한다.
- 하나의 스레드에 문제가 발생하면 전체 프로세스가 영향을 받는다

#### - 코어는 무조건 많을 수록 좋을까요?
- Amdahl's law에 의하면 코어가 많아졌을 때 성능이 좋아지는 경우는 병렬처리가 얼만큼 사용되는지에 따라 달라진다.
- 코어가 많으면 병렬 처리를 많이 하는 상황에서 좋은 성능을 낼 수 있지만, 직렬처리가 많은 상황에서는 성능 향상을 내지 못해 코어의 개수가 무의미하다.

#### - 멀티스레딩이 사용되는 사례에 대해 설명해보세요.
- Text editor를 사용할 때 spell-check, formatting of text, saving the text 등 다양한 기능이 동시에 일어나는데 이 각각의 기능이 독립적인 스레드로 구성되어 작동한다.

#### - user thread와 kernel thread에 대해 설명해보세요.
- user level에서 만들어지는 thread를 user thread, kernel level에서 만들어지는 thread를 kernel thread라고 한다.
- user thread 장단점
- user thread의 경우 스케줄링 결정이나 동기화를 위해 시스템 콜을 호출하기 않기 때문에 인터럽트가 발생했을 때 kernel thread보다 오버헤드가 적다
- 즉, user thread의 경우 OS 스케줄러의 context switch가 발생하지 않는다.
- 반면, 스케줄링 운선위가 지원되지 않아서 어떤 스레드가 먼저 동작할 지 알 수 없다.
- kernel thread 장단점
- kernel thread의 경우 커널에 종속적이며 커널이 각 스레드를 개별적으로 관리할 수 있다.
- 반면, 스케줄링과 동기화를 위해 커널을 호출하는데 오버헤드가 크다.
- user mode에서 kernel mode로의 전환이 빈번하게 이루어지기 때문에 성능 정하가 발생한다.

===========================================================================================
### CHAPTER5 CPU Scheduling

#### - CPU scheduling의 목적은 무엇인가요?

#### - 선점 scheduling의 알고리즘에 대해 아는대로 설명해보세요.

#### - 비선점 scheduling의 알고리즘에 대해 아는대로 설명해보세요.

#### - Priority-base Scheculing사용시 발생할 수 있는 문제점에 대해 설명해 보세요.
===========================================================================================
### CHAPTER 6 Synchronization

#### - Synchronization이 무엇이며 왜 필요한지 설명해 보세요.

#### - Race condition과 Critical Section에 대해 설명해 보세요.

#### - Critical Section Problem을 해결하기 위해 필요한 조건에 대해 설명해 보세요

#### - Mutex와 Semaphore에 대해 설명해 보세요

#### - Peterson's Algorithm에 대해 설명해 보세요.
===========================================================================================
### CHAPTER 7

### - 데드락이 발생하기 위한 4가지 상황에 대해서 설명해보세요.
데드락이 발생하기 위해서는 상호배제, 점유와 대기, 비선점, 순환대기 이 네가지 조건을 만족해야합니다.
상호배제는 공유자원을 동시에 사용할 수 없도록 유지하는 것이고
비선점은 이미 사용중인 공유자원을 다른 process가 사용할 수 없는 상황입니다.
점유와 대기는 하나의 process에게 모든 자원을 점유시키지 않고 자원을 점유하고 대기하는 특성이고
순환대기는 process의 자원 사용 순서가 부여되지 않을 때 발생하는 특성입니다.

### - 데드락 예방 기법에 대해서 설명해보세요.
데드락 예방 기법은 데드락의 4가지 필요조건인 점유와 대기, 비선점, 순환대기, 상호배제 중 한가지 조건을 
위배 시킴으로써 데드락이 발생하지 않도록 하는 방법입니다.

### - 데드락 회피 기법에 대해서 설명해보세요.
데드락 회피기법은 OS가 시스템의 상태를 감시해 데드락이 발생할 가눙성이 있는 자원의 할당을 보류하는 방법입니다.
OS가 데드락의 가능성을 파악하기위해 모든 process의 상태를 파악하고 있어야 한다는 단점을 가지고 있습니다.

### - 데드락 회복 기법에 대해서 설명해보세요.
데드락 회복 기법은 데드락 발생시 process를 일부 종료함으로서 데드락 상태를 해결하는 방법입니다.
===========================================================================================
### CHAPTER 8

#### Address Binding에 대해 설명해 보세요
#### Internal fragmentation과 External fragmentation에 대해 설명해보세요
#### Segmenation과 paging에 대해 설명해 보세요
#### TLB에 대해 설명해 보세요
===========================================================================================
### CHAPTER 10
### Virtual Memory 가상 메모리란 무엇인가요?
### Demand Paging 과정에 대해 설명해보세요.
### Page falt가 발생했을때 OS가 handling하는 과정에 대해 설명해보세요.
### LRU Page replacement 기법에 대해 설명해 보세요 
=============================================================================================

### CHAPTER 10
#### - 파일이란 무엇인가
- 보조기억장치에 저장된 연관된 정보들의 집합
- 보조기억장치 할당의 최소 단위


#### - 파일 접근 방법에 대해서 설명하세요. (힌트: 순차접근, 직접 접근, 색인 접근)
- 순차접근: 파일을 레코드 단위로 순서대로 접근
- 직접 접근: 원하는 block에 직접 접근
- 색인 접근: index를 참조해 원하는 block찾은 후 데이터에 접근

#### - 비순환 그래프 디렉터리와 일반 그래프 디렉터리의 차이점은 무엇인가요
- 비순환 그래프는 사이클을 허용하지 않는다.
- 일반 그래프 디렉터리는 사이클을 허용한다.

### 파일 할당 방법에 대해서 설명해보세요. (연속할당, 연결할당, 색인 할당)
- 연속 할당: 한 파일을 디스크의 연속된 block에 저장한다, 공간 확보가 어렵다. 외부 단편화
- 연결 할당: file이 저장된 block들을 연결리스트로 연결한다.
- 색인 할당: 파일인 저장된 정보 포인터를 index 블록에 모아둔다. 

### FREE-SPACE 관리 방법에 대해서 설명해보세요 (Bit vector, 연결리스트, 그룹핑, 계수(counting))
- bit vector: 시스템 내 모든 block에 대한 사용 여부를 1bit flag로 표시한다
- linked list: 빈 블록을 linked list로 연결한다
- 그룹핑: n개의 빈 블록을 그룹으로 묶고 그룹 단위로 연결리스트로 연결한다
- 계수: 연속된 빈 블록 중 첫 번째 block 주소와 연속된 block의 수를 table로 유지한다.